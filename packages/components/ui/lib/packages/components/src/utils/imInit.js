"use strict";const o=require("../../../../node_modules/.pnpm/tim-js-sdk@2.27.0/node_modules/tim-js-sdk/tim-js.js"),u=require("../stores/message.js");let T={SDKAppID:1400118220},t=o.default.create(T);const s=sessionStorage.getItem("userID")||"",l=sessionStorage.getItem("userSig")||"";s&&l&&t.login({userID:s,userSig:l});window.$tim=t;t.setLogLevel(1);let c=async function(e){let n=t.createTextMessage({to:"user1",conversationType:"C2C",payload:{text:"Hello world!"}});t.sendMessage(n),u.useMessageStore().getConversationList()};t.on(o.default.EVENT.SDK_READY,c);let f=function(e){};t.on(o.default.EVENT.SDK_NOT_READY,f);let r=function(e){};t.on(o.default.EVENT.MESSAGE_RECEIVED,r);let D=function(e){};t.on(o.default.EVENT.MESSAGE_MODIFIED,D);let I=function(e){};t.on(o.default.EVENT.MESSAGE_REVOKED,I);let g=function(e){};t.on(o.default.EVENT.MESSAGE_READ_BY_PEER,g);let _=function(e){e.data.forEach(E=>{const{groupID:a,messageID:i,readCount:m,unreadCount:y}=E,d=t.findMessage(i);d&&d.readReceiptInfo.unreadCount})};t.on(o.default.EVENT.MESSAGE_READ_RECEIPT_RECEIVED,_);let S=function(e){console.log("Conversation",e.data)};t.on(o.default.EVENT.CONVERSATION_LIST_UPDATED,S);let p=function(e){console.log(e.data)};t.on(o.default.EVENT.GROUP_LIST_UPDATED,p);let N=function(e){e.data.groupID,e.data.groupAttributes,console.log(e.data)};t.on(o.default.EVENT.GROUP_ATTRIBUTES_UPDATED,N);let A=function(e){e.data.groupID,e.data.topicID,console.log(e.data)};t.on(o.default.EVENT.TOPIC_CREATED,A);let R=function(e){e.data.groupID,e.data.topicIDList,console.log(e.data)};t.on(o.default.EVENT.TOPIC_DELETED,R);let P=function(e){e.data.groupID,e.data.topic,console.log(e.data)};t.on(o.default.EVENT.TOPIC_UPDATED,P);let C=function(e){console.log(e.data)};t.on(o.default.EVENT.PROFILE_UPDATED,C);let L=function(e){console.log(e.data)};t.on(o.default.EVENT.BLACKLIST_UPDATED,L);let V=function(e){console.log(e.data)};t.on(o.default.EVENT.FRIEND_LIST_UPDATED,V);let U=function(e){console.log(e.data)};t.on(o.default.EVENT.FRIEND_GROUP_LIST_UPDATED,U);let M=function(e){const{friendApplicationList:n,unreadCount:E}=e.data;n.filter(a=>a.type===o.default.TYPES.SNS_APPLICATION_SENT_TO_ME),n.filter(a=>a.type===o.default.TYPES.SNS_APPLICATION_SENT_BY_ME)};t.on(o.default.EVENT.FRIEND_APPLICATION_LIST_UPDATED,M);let O=function(e){console.log(e.data.type)};t.on(o.default.EVENT.KICKED_OUT,O);let G=function(e){};t.on(o.default.EVENT.NET_STATE_CHANGE,G);
